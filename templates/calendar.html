{%extends 'base.html'%}

{% block content_calendar %}
  {%include "snippets/v.html"%}
  {% include 'snippets/calendarscripts.html' %}

{% endblock content_calendar %}

{%block content_sidebar%}

      <nav id="sidebar">
            <!-- Sidebar Header -->
            <div class="sidebar-header">
                <h3>{{username}}</h3>
            </div>

            <!-- Sidebar Links -->
            <ul class="list-unstyled components">
                <li class="active"><a href="/profile">Home</a></li>
                <li><a href="#">About</a></li>

                <!-- Link with dropdown items -->
                  <li> <a href="#homeSubmenu" data-toggle="collapse" aria-expanded="false">Active Contracts</a></li>

                    <ul class="collapse list-unstyled" id="homeSubmenu">
                    </ul>

                <li><a href='/accounts/calendar'>Calendar</a></li>
                <li><a href="#">Contact</a></li>
                <li><a href="#">Portfolio</a></li>
                <li><a href='/accounts/logout'>Logout</a></li>
            </ul>
        </nav>

<div id="content">

<nav class="navbar navbar-inverse">
    <div class="navbar-header">
        <button type="button" id="sidebarCollapse" class="btn btn-info navbar-btn">
            <i class="glyphicon glyphicon-align-justify" style= "height:100px"></i>
            <span> Menu </span>
        </button>
      </div>
  </nav>

    {% block content %}
    <div id='calendar' style = "padding: 20px"></div>
    {%endblock content %}

</div>

{%endblock content_sidebar%}

{% block javascript %}
<script>
$(document).ready(function() {
  $('#sidebarCollapse').on('click', function () {
      $('#sidebar').toggleClass('active');
  });

    // page is now ready, initialize the calendar...
    var event_list = {{events|safe}};
    console.log(event_list);

    $('#calendar').fullCalendar({
        // put your options and callbacks here
        //defaultView: 'basicWeek',
      events: event_list

    })

});
</script>
{% endblock %}
